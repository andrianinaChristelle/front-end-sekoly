{"ast":null,"code":"var _jsxFileName = \"D:\\\\fenarana\\\\projet\\\\front-sekoly\\\\src\\\\pages\\\\Filiere\\\\ListeMatiere.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Table from 'react-bootstrap/Table';\nimport ServiceFiliere from '../../services/ServiceFiliere';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport { useHistory } from 'react-router-dom';\nimport { useLocation } from 'react-router';\nimport './filiere.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ListeMatiere() {\n  _s();\n\n  var _Matiere$matieres;\n\n  const [Matiere, setMatiere] = useState([]);\n  const [session, setSession] = useState([]);\n  const [session_id, setSessionId] = useState();\n  const [filiere_id, setFiliereId] = useState();\n  const [niveau_id, setSession_id] = useState();\n  const history = useHistory();\n  const location = useLocation();\n  useEffect(() => {\n    let state = location === null || location === void 0 ? void 0 : location.state;\n    let id_filiere = state === null || state === void 0 ? void 0 : state.id_Niveau_Filiere;\n    ServiceFiliere.getMatiere(id_filiere).then(res => {\n      const matieres = res.data.matiere;\n      setMatiere({\n        matieres\n      });\n      console.log(res.data);\n    }).catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n    ServiceFiliere.getSession().then(res => {\n      const sessions = res.data.session;\n      setSession({\n        sessions\n      });\n      console.log(res.data);\n    }).catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n  }, []);\n\n  const navigateUpdate = (id_filiere, id_niveau) => {\n    history.push('/listeNiveau', {\n      filiere: filiere_id,\n      niveau: niveau_id,\n      session: session_id\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    history.push('/listeNiveau', {\n      filiere: filiere_id,\n      session: session_id,\n      niveau: niveau_id\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Les filieres\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Navbar, {\n          expand: \"lg\",\n          variant: \"light\",\n          bg: \"light\",\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            children: /*#__PURE__*/_jsxDEV(Navbar.Brand, {\n              href: \"/NouveauFiliere\",\n              children: \"Insert Filier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Filiere\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"session\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: Matiere === null || Matiere === void 0 ? void 0 : (_Matiere$matieres = Matiere.matieres) === null || _Matiere$matieres === void 0 ? void 0 : _Matiere$matieres.map(mat => {\n            var _session$sessions;\n\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: mat.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: mat.code_matiere\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"select\", {\n                  onChange: e => setSessionId(e.target.value),\n                  children: session === null || session === void 0 ? void 0 : (_session$sessions = session.sessions) === null || _session$sessions === void 0 ? void 0 : _session$sessions.map(sess => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: sess.id,\n                    children: [sess.date_debut, \"//\", sess.date_fin]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 37\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 34\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 56\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(ListeMatiere, \"Qgvi7bT/35guash3aqcESLfDzkc=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = ListeMatiere;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListeMatiere\");","map":{"version":3,"sources":["D:/fenarana/projet/front-sekoly/src/pages/Filiere/ListeMatiere.jsx"],"names":["React","useState","useEffect","Table","ServiceFiliere","Navbar","Container","Button","useHistory","useLocation","ListeMatiere","Matiere","setMatiere","session","setSession","session_id","setSessionId","filiere_id","setFiliereId","niveau_id","setSession_id","history","location","state","id_filiere","id_Niveau_Filiere","getMatiere","then","res","matieres","data","matiere","console","log","catch","error","getSession","sessions","navigateUpdate","id_niveau","push","filiere","niveau","handleSubmit","e","preventDefault","map","mat","id","code_matiere","target","value","sess","date_debut","date_fin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Table from 'react-bootstrap/Table';\r\nimport ServiceFiliere from '../../services/ServiceFiliere';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useLocation } from 'react-router';\r\nimport './filiere.css';\r\n\r\nexport default function ListeMatiere() {\r\n    const [Matiere, setMatiere] = useState([]);\r\n    const [session, setSession] = useState([]);\r\n    const [session_id, setSessionId] = useState();\r\n    const [filiere_id, setFiliereId] = useState();\r\n    const [niveau_id, setSession_id] = useState();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        let state = location?.state;\r\n        let id_filiere = state?.id_Niveau_Filiere;\r\n        ServiceFiliere.getMatiere(id_filiere)\r\n            .then(res => {\r\n\r\n                const matieres = res.data.matiere;\r\n                setMatiere({ matieres });\r\n                console.log(res.data);\r\n            })\r\n            .catch(function (error) {\r\n                // handle error\r\n                console.log(error);\r\n            });\r\n        ServiceFiliere.getSession()\r\n            .then(res => {\r\n\r\n                const sessions = res.data.session;\r\n                setSession({ sessions });\r\n                console.log(res.data);\r\n            })\r\n            .catch(function (error) {\r\n                // handle error\r\n                console.log(error);\r\n            });\r\n\r\n\r\n    }, []);\r\n    const navigateUpdate = (id_filiere, id_niveau) => {\r\n        history.push(\r\n            '/listeNiveau',\r\n            {\r\n                filiere: filiere_id,\r\n                niveau: niveau_id,\r\n                session: session_id\r\n            }\r\n        )\r\n    }\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        history.push(\r\n            '/listeNiveau',\r\n            {\r\n                filiere: filiere_id,\r\n                session: session_id,\r\n                niveau: niveau_id\r\n            }\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"wrapper\">\r\n                <h1> Les filieres</h1>\r\n                <Container>\r\n                    <Navbar expand=\"lg\" variant=\"light\" bg=\"light\">\r\n                        <Container>\r\n                            <Navbar.Brand href=\"/NouveauFiliere\">Insert Filier</Navbar.Brand>\r\n                        </Container>\r\n                    </Navbar>\r\n                </Container>\r\n                <Table >\r\n                    <thead>\r\n                        <tr>\r\n                            <th>#</th>\r\n                            <th>Filiere</th>\r\n                            <th>session</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {Matiere?.matieres?.map(mat => < tr >\r\n                            {/* <form onSubmit={handleSubmit}> */}\r\n                            <td >{mat.id}</td>\r\n                            <td >{mat.code_matiere}</td>\r\n\r\n                            <td> <select onChange={e => setSessionId(e.target.value)}>\r\n                                {session?.sessions?.map(sess =>\r\n                                    <option value={sess.id}>{sess.date_debut}//{sess.date_fin}</option>\r\n                                )}\r\n                            </select></td>\r\n\r\n                            {/* <input type=\"hidden\" name='niveau' values='{}' /><br /><br /> */}\r\n                            {/* <td> <Button type=\"submit\">Inseret</Button></td>\r\n                            </form> */}\r\n                        </tr>)}\r\n                    </tbody>\r\n                </Table >\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}